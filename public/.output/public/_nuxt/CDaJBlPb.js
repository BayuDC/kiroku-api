import{_ as M,c as m,o as f,E as k,e as _,a as e,b as S,w as C,d as h,t as g,G as N,I as B,J as I,K,L as y,M as Q,i as U,v as V,k as v,j as F,F as j,x as O,r as $,z as T,g as A}from"./DILZzNnB.js";import{_ as z}from"./CwxRBsd3.js";import{t as H}from"./DKo_HIg7.js";import{u as J}from"./CujQqBoZ.js";import{u as W}from"./rHo55hVL.js";import{u as Y}from"./B4WT0tcV.js";import{u as P}from"./CTxI3r5K.js";import{u as X}from"./Dk7syTNn.js";import{u as Z}from"./DWor5bqZ.js";const ee={},te={class:"border-t-0 px-6 align-middle border-l-0 border-r-0 whitespace-nowrap p-4"};function oe(n,t){return f(),m("td",te,[k(n.$slots,"default")])}const De=M(ee,[["render",oe]]),se={class:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4"},Ee=_({__name:"TableRow",props:{path:{},btn1:{},btn2:{}},emits:["delete"],setup(n){return(t,o)=>{const r=z;return f(),m("tr",null,[k(t.$slots,"default"),e("td",se,[S(r,{to:t.path,class:"bg-emerald-500 text-white active:bg-emerald-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button"},{default:C(()=>[h(g(t.btn1||"Edit"),1)]),_:1},8,["to"]),e("button",{class:"bg-red-500 text-white active:bg-red-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:o[0]||(o[0]=s=>t.$emit("delete"))},g(t.btn2||"Hapus"),1)])])}}}),G=new WeakMap;function re(n,t,o={}){const{mode:r="replace",route:s=N(),router:l=B(),transform:u}=o;let d=a=>a,w=a=>a;typeof u=="function"?d=u:u&&(u.get&&(d=u.get),u.set&&(w=u.set)),G.has(l)||G.set(l,new Map);const x=G.get(l);let c=s.query[n];H(()=>{c=void 0});let i;const p=I((a,q)=>(i=q,{get(){return a(),d(c!==void 0?c:y(t))},set(b){b=w(b),c!==b&&(c=b===y(t)?void 0:b,x.set(n,b===y(t)?void 0:b),q(),Q(()=>{if(x.size===0)return;const R=Object.fromEntries(x.entries());x.clear();const{params:D,query:E,hash:L}=s;l[y(r)]({params:D,query:{...E,...R},hash:L})}))}}));return K(()=>s.query[n],a=>{c!==d(a)&&(c=a,i())},{flush:"sync"}),p}const ne={class:"relative w-full px-2 max-w-full flex-grow flex-1"},le={class:"max-w-48"},ae={class:"relative flex w-full flex-wrap items-stretch"},ie=_({__name:"Search",setup(n){const t=re("search");return(o,r)=>(f(),m("div",ne,[e("div",le,[e("div",ae,[r[1]||(r[1]=e("span",{class:"z-10 h-full leading-snug font-normal absolute text-center text-blueGray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1"},[e("i",{class:"fas fa-search"})],-1)),U(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=s=>F(t)?t.value=s:null),placeholder:"Ketik untuk mencari",class:"px-2 py-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:shadow-outline w-full pl-10"},null,512),[[V,v(t)]])])])]))}}),ue={class:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded"},de={class:"rounded-t mb-0 px-4 py-3 border-0"},ce={class:"flex flex-wrap items-center"},pe={class:"relative w-full px-2 max-w-full flex-grow flex-1 text-right"},fe={class:"block w-full overflow-x-auto"},be={class:"items-center w-full bg-transparent border-collapse"},me={class:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"},Le=_({__name:"Table",props:{columns:{},path:{}},setup(n){return(t,o)=>{const r=ie,s=z;return f(),m("div",ue,[e("div",de,[e("div",ce,[S(r),e("div",pe,[S(s,{to:t.path,class:"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button"},{default:C(()=>o[0]||(o[0]=[h(" Tambah ",-1)])),_:1,__:[0]},8,["to"])])])]),e("div",fe,[e("table",be,[e("thead",null,[e("tr",null,[o[1]||(o[1]=e("th",{class:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"}," Id ",-1)),(f(!0),m(j,null,O(t.columns,l=>(f(),m("th",me,g(l),1))),256)),o[2]||(o[2]=e("th",{class:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"},null,-1))])]),e("tbody",null,[k(t.$slots,"default")])])])])}}}),xe={class:"relative w-auto my-6 mx-auto max-w-sm"},_e={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},we={class:"relative p-4 flex-auto"},ye={class:"flex items-center justify-end p-4 border-t border-solid border-blueGray-200 rounded-b"},he=_({__name:"Dialog",emits:["confirm","cancel"],setup(n,{expose:t}){$(null);const o=$(!1);return t({open(){o.value=!0},close(){o.value=!1}}),(r,s)=>(f(),m(j,null,[e("div",{class:T(["overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center",[v(o)?"flex":"hidden"]])},[e("div",xe,[e("div",_e,[s[2]||(s[2]=e("div",{class:"flex items-start justify-between p-4 border-b border-solid border-blueGray-200 rounded-t"},[e("h3",{class:"text-xl font-semibold"},"Konfirmasi")],-1)),e("div",we,[k(r.$slots,"default")]),e("div",ye,[e("button",{class:"text-gray-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:s[0]||(s[0]=l=>r.$emit("cancel"))}," Tidak "),e("button",{class:"bg-red-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:s[1]||(s[1]=l=>r.$emit("confirm"))}," Ya ")])])])],2),e("div",{class:T(["opacity-25 fixed inset-0 z-40 bg-black",[v(o)?"flex":"hidden"]])},null,2)],64))}});function ge(n){switch(n){case"category":return J();case"user":return W();case"consumable":return Y();case"tool":return P();case"usage":return X();case"loan":return Z();default:throw new Error("Invalid store type")}}const ve={class:"text-blueGray-500 leading-relaxed"},$e={class:"font-bold"},Me=_({__name:"Modal",props:{store:{}},emits:["deleted","failed"],setup(n,{expose:t,emit:o}){const r=n,s=o,l=ge(r.store),u=$(""),d=$(null);async function w(){var i;if(await l.delete()){l.reset(),(i=d.value)==null||i.close(),s("deleted");return}s("failed")}function x(){var i;l.reset(),(i=d.value)==null||i.close()}function c(i,p){var a;l.id=i,u.value=p,(a=d.value)==null||a.open()}return t({select:c}),(i,p)=>{const a=he;return f(),A(a,{ref_key:"dialog",ref:d,onConfirm:w,onCancel:x},{default:C(()=>[e("p",ve,[p[0]||(p[0]=h(" Anda yakin akan menghapus ",-1)),e("span",$e,g(v(u)),1),p[1]||(p[1]=h(" ? ",-1))])]),_:1},512)}}});export{Le as _,Ee as a,De as b,Me as c,re as u};
