import{_ as $}from"./dbQSbgpy.js";import{u as D,_ as A,a as B,b as C,c as N}from"./CDaJBlPb.js";import{s as F}from"./BQUaNR2D.js";import{u as V}from"./BLw3PmVo.js";import{s as m}from"./BQfcDCpi.js";import{e as K,r as _,s as Q,c as p,a as u,b as t,w as a,o as s,F as R,x as q,k as d,g as E,d as f,t as h}from"./DILZzNnB.js";import{w as G}from"./DKo_HIg7.js";import"./C0ApsXXQ.js";import"./CwxRBsd3.js";import"./CujQqBoZ.js";import"./RxiBsf8a.js";import"./rHo55hVL.js";import"./B4WT0tcV.js";import"./CTxI3r5K.js";import"./Dk7syTNn.js";import"./DWor5bqZ.js";const L={class:"px-4 md:px-10 mx-auto w-full -m-24"},M={class:"flex flex-wrap px-4"},S={class:"w-full"},ce=K({__name:"index",async setup(j){let o,r;F("Daftar Kategori");const n=D("search"),l=_(""),{data:w,refresh:x}=([o,r]=Q(()=>V("/categories",{query:{search:l},default:()=>[]})),o=await o,r(),o),c=_(null);async function g(){m("Kategori berhasil dihapus","success"),window.scrollTo({top:0,behavior:"smooth"}),await x()}async function y(){m("Gagal menghapus kategori","error"),window.scrollTo({top:0,behavior:"smooth"})}return G(n,async()=>{l.value=n.value||""},{throttle:1e3}),(z,H)=>{const b=$,i=C,v=B,T=A,k=N;return s(),p("div",L,[u("div",M,[t(b),u("div",S,[t(T,{columns:["Nama"],path:"/categories/new"},{default:a(()=>[(s(!0),p(R,null,q(d(w),e=>(s(),E(v,{key:e.id,path:`/categories/${e.id}`,onDelete:I=>d(c).select(e.id,e.name)},{default:a(()=>[t(i,{class:"font-bold"},{default:a(()=>[f(h(e.id),1)]),_:2},1024),t(i,null,{default:a(()=>[f(h(e.name),1)]),_:2},1024)]),_:2},1032,["path","onDelete"]))),128))]),_:1})]),t(k,{store:"category",ref_key:"modal",ref:c,onDeleted:g,onFailed:y},null,512)])])}}});export{ce as default};
