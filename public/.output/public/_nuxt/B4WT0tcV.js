import{N as y,r as c,O as g,L as l}from"./DILZzNnB.js";import{u as k,b as _,a as b}from"./BLw3PmVo.js";import{u as w}from"./RxiBsf8a.js";const N=y("consumable",()=>{const n=c(0),t=c({name:"",stock:0,description:"",category_id:0}),e=c({name:"",stock:"",description:"",category_id:""});async function v(a){var u,o,s,i;if(a)n.value=a;else if(!n.value)return;const r=await k(`/consumables/${n.value}`,{});if(r.data.value){t.value.name=(u=r.data.value)==null?void 0:u.name,t.value.stock=(o=r.data.value)==null?void 0:o.stock,t.value.description=(s=r.data.value)==null?void 0:s.description,t.value.category_id=(i=r.data.value)==null?void 0:i.category_id;return}throw g({statusCode:404,statusMessage:"Not Found"})}async function d(){var r,u,o,s;const a=await _("/consumables",l(t));return a?(e.value.name=((r=a.name)==null?void 0:r[0])||"",e.value.stock=((u=a.stock)==null?void 0:u[0])||"",e.value.description=((o=a.description)==null?void 0:o[0])||"",e.value.category_id=((s=a.category_id)==null?void 0:s[0])||"",!1):(e.value.name="",e.value.stock="",e.value.description="",e.value.category_id="",!0)}async function m(){var r,u,o,s;const a=await w(`/consumables/${n.value}`,l(t));return a?(e.value.name=((r=a.name)==null?void 0:r[0])||"",e.value.stock=((u=a.stock)==null?void 0:u[0])||"",e.value.description=((o=a.description)==null?void 0:o[0])||"",e.value.category_id=((s=a.category_id)==null?void 0:s[0])||"",!1):(e.value.name="",e.value.stock="",e.value.description="",e.value.category_id="",!0)}async function p(){return!await b(`/consumables/${n.value}`)}function f(){n.value=0,t.value.name="",t.value.stock=0,t.value.description="",t.value.category_id=0,e.value.name="",e.value.stock="",e.value.description="",e.value.category_id=""}return{id:n,data:t,error:e,load:v,create:d,update:m,delete:p,reset:f}});export{N as u};
